<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Geolocation</title>
</head>

<body>

<script>
document.addEventListener("DOMContentLoaded", function(){
	console.log("testing");
	
	if( navigator.geolocation ){ 
  		console.log("geolocation supported");
		var params = {enableHighAccuracy: true, timeout:360000, maximumAge:0};
		navigator.geolocation.getCurrentPosition( watchPosition, gpsError, params ); 
		
		function watchPosition( position ){ 
  			console.log( position.coords.latitude );
  			console.log( position.coords.longitude );
  			console.log( position.coords.accuracy );
  			console.log( position.coords.altitude );
		}
		
		function gpsError( error ){   
  			var errors = {
			1: 'Permission denied',
			2: 'Position unavailable',
			3: 'Request timeout'
  			};
  			alert("Error: " + errors[error.code]);
		}
		
		var canvas = document.createElement("canvas");
	}
	else{
		alert("Your browser doesn't support geolocation function.");
	}
	
	
	
});


</script>
</body>
</html>
